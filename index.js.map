{"version":3,"file":"index.js","sources":["../src/js/constants/refs.js","../src/js/cards/cards.js","../src/js/translateAPI/translateAPI.js","../src/js/localStorage/localStorage.js","../src/js/form/form.js","../src/main.js"],"sourcesContent":["export const refs = {\n  fieldCards: document.querySelector('.js-cards-field'),\n  cards: document.querySelector('.cards'),\n  form: document.querySelector('.js-input-form'),\n  fieldWordEN: document.querySelector('input[name=\"word-en\"]'),\n  fieldWordUA: document.querySelector('input[name=\"word-ua\"]'),\n  btnTranslate: document.querySelector('button[data-action=\"translate\"]'),\n  btnSafe: document.querySelector('button[data-action=\"save\"]'),\n  btnResert: document.querySelector('button[data-action=\"reset\"]'),\n  btnAddCards: document.querySelector('button[data-action=\"add cards\"]'),\n  btnStartQuiz: document.querySelector('button[data-action=\"start quiz\"]'),\n};\n","import { savedWords } from '../../main';\nimport { refs } from '../constants/refs';\n\nexport function showCards() {\n  refs.cards.classList.remove('is-hidden');\n  renderCards(savedWords);\n}\n\nexport function hideCards() {\n  refs.cards.classList.add('is-hidden');\n}\n\nfunction renderCards(cards) {\n  const randCards = getRandCards(cards);\n  const randomIndex = Math.floor(Math.random() * 4);\n  const card = randCards[randomIndex];\n  const itemsMarkup = randCards.map(cardTemplate).join('');\n  const markup = `<ul class=\"cards\">${itemsMarkup}</ul>\n  <span class=\"target-card\" data-id-target=\"${card.id}\">${card.en}/${card.ua}</span>`;\n  refs.cards.innerHTML = markup;\n}\n\nfunction cardTemplate({ en, ua, id }) {\n  return `<li class=\"card\" data-id=\"${id}\"><span>${en}/${ua}</span></li>`;\n}\n\nfunction getRandCards(cards) {\n  const randCards = [];\n  while (randCards.length < 4) {\n    const randCard = cards[Math.floor(Math.random() * cards.length)];\n    if (!randCards.includes(randCard)) {\n      randCards.push(randCard);\n    }\n  }\n  return randCards;\n}\n","import axios from 'axios';\n\nconst API_KEY = '7bd2b4e38fe673b406a4';\nconst BASE_URL = 'https://api.mymemory.translated.net/get';\n\n// https://api.mymemory.translated.net/get?q=wall&langpair=en|uk&key=7bd2b4e38fe673b406a4\n\nexport async function fetchTranslation(text, targetLanguage = 'en|uk') {\n  const options = {\n    params: { q: text, langpair: targetLanguage, key: API_KEY },\n  };\n\n  try {\n    const response = await axios.get(BASE_URL, options);\n    // console.log('ðŸš€ ~ fetchTranslation ~ response:', response);\n    return response.data.responseData.translatedText;\n  } catch (error) {\n    console.error('Error fetching data: ', error);\n    return null;\n  }\n}\n","const LS_KEY_SAVED_WORDS = 'savedWords';\n\nconst saveToLS = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error);\n  }\n};\n\nconst getFromLS = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error);\n    return undefined;\n  }\n};\n\nexport const saveWordsLS = words => saveToLS(LS_KEY_SAVED_WORDS, words);\nexport const getWordsLS = () => getFromLS(LS_KEY_SAVED_WORDS);\n","import { nanoid } from 'nanoid';\n\nimport { refs } from '../constants/refs';\nimport { fetchTranslation } from '../translateAPI/translateAPI';\nimport { saveWordsLS } from '../localStorage/localStorage';\nimport { savedWords } from '../../main';\n\nexport function showForm() {\n  console.log(refs);\n  refs.form.classList.remove('is-hidden');\n\n  refs.btnTranslate.addEventListener('click', onTranslateBtnClick);\n  refs.btnSafe.addEventListener('click', onSafeBtnClick);\n  refs.btnResert.addEventListener('click', onBtnResetClick);\n  refs.form.addEventListener('submit', onFormSubmit);\n}\n\nexport function hideForm() {\n  refs.form.classList.add('is-hidden');\n\n  refs.btnTranslate.removeEventListener('click', onTranslateBtnClick);\n  refs.btnSafe.removeEventListener('click', onSafeBtnClick);\n  refs.btnResert.removeEventListener('click', onBtnResetClick);\n  refs.form.removeEventListener('submit', onFormSubmit);\n}\n\nfunction onBtnResetClick() {\n  refs.form.reset();\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const target = event.target;\n  console.log('ðŸš€ ~ onFormSubmit ~ target:', target);\n}\n\nasync function onTranslateBtnClick() {\n  const textEN = refs.fieldWordEN.value;\n  const textUA = refs.fieldWordUA.value;\n\n  if (textEN) {\n    const translation = await fetchTranslation(textEN);\n    refs.fieldWordUA.value = translation.toLowerCase();\n    return;\n  }\n\n  if (textUA) {\n    const translation = await fetchTranslation(textUA, 'uk|en');\n    refs.fieldWordEN.value = translation.toLowerCase();\n    return;\n  }\n}\n\nfunction onSafeBtnClick() {\n  savedWords.push({\n    id: nanoid(),\n    en: refs.fieldWordEN.value,\n    ua: refs.fieldWordUA.value,\n  });\n  refs.form.reset();\n  saveWordsLS(savedWords);\n  console.table(savedWords);\n}\n","import { hideCards, showCards } from './js/cards/cards';\nimport { refs } from './js/constants/refs';\nimport { hideForm, showForm } from './js/form/form';\nimport { getWordsLS } from './js/localStorage/localStorage';\n\nexport const savedWords = getWordsLS() || [];\nconsole.log('ðŸš€ ~ savedWords:', savedWords);\n\nrefs.btnAddCards.addEventListener('click', onAddCardsBtnClick);\nrefs.btnStartQuiz.addEventListener('click', onStartQuizBtnClick);\n\nfunction onStartQuizBtnClick() {\n  console.log('start quiz');\n  hideForm();\n  showCards();\n}\n\nfunction onAddCardsBtnClick() {\n  showForm();\n  hideCards();\n\n  console.log('add cards');\n}\n"],"names":["refs","showCards","renderCards","savedWords","hideCards","cards","randCards","getRandCards","randomIndex","card","markup","cardTemplate","en","ua","id","randCard","API_KEY","BASE_URL","fetchTranslation","text","targetLanguage","options","axios","error","LS_KEY_SAVED_WORDS","saveToLS","key","value","serializedState","getFromLS","saveWordsLS","words","getWordsLS","showForm","onTranslateBtnClick","onSafeBtnClick","onBtnResetClick","onFormSubmit","hideForm","event","target","textEN","textUA","translation","nanoid","onAddCardsBtnClick","onStartQuizBtnClick"],"mappings":"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"}