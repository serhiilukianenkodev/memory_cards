{"version":3,"file":"index.js","sources":["../src/js/constants/refs.js","../src/js/translateAPI/translateAPI.js","../src/js/localStorage/localStorage.js","../src/main.js"],"sourcesContent":["export const refs = {\n  fieldWordEN: document.querySelector('input[name=\"word-en\"]'),\n  fieldWordUA: document.querySelector('input[name=\"word-ua\"]'),\n  form: document.querySelector('.js-input-form'),\n  btnTarnslate: document.querySelector('button[data-action=\"translate\"]'),\n  btnSafe: document.querySelector('button[data-action=\"save\"]'),\n  btnResert: document.querySelector('button[data-action=\"reset\"]'),\n};\n","import axios from 'axios';\n\nconst API_KEY = '7bd2b4e38fe673b406a4';\nconst BASE_URL = 'https://api.mymemory.translated.net/get';\n\n// https://api.mymemory.translated.net/get?q=wall&langpair=en|uk&key=7bd2b4e38fe673b406a4\n\nexport async function fetchTranslation(text, targetLanguage = 'en|uk') {\n  const options = {\n    params: { q: text, langpair: targetLanguage, key: API_KEY },\n  };\n\n  try {\n    const response = await axios.get(BASE_URL, options);\n    // console.log('ðŸš€ ~ fetchTranslation ~ response:', response);\n    return response.data.responseData.translatedText;\n  } catch (error) {\n    console.error('Error fetching data: ', error);\n    return null;\n  }\n}\n","const LS_KEY_SAVED_WORDS = 'savedWords';\n\nconst saveToLS = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error);\n  }\n};\n\nconst getFromLS = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error);\n    return undefined;\n  }\n};\n\nexport const saveWordsLS = words => saveToLS(LS_KEY_SAVED_WORDS, words);\nexport const getWordsLS = () => getFromLS(LS_KEY_SAVED_WORDS);\n","import { nanoid } from 'nanoid';\n\nimport { refs } from './js/constants/refs';\nimport { fetchTranslation } from './js/translateAPI/translateAPI';\nimport { getWordsLS, saveWordsLS } from './js/localStorage/localStorage';\n\nconst savedWords = getWordsLS() || [];\nconsole.log('ðŸš€ ~ savedWords:', savedWords);\n\nrefs.btnTarnslate.addEventListener('click', onTranslateBtnClick);\nrefs.btnSafe.addEventListener('click', onSafeBtnClick);\nrefs.btnResert.addEventListener('click', () => refs.form.reset());\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const target = event.target;\n  console.log('ðŸš€ ~ onFormSubmit ~ target:', target);\n}\n\nasync function onTranslateBtnClick() {\n  const textEN = refs.fieldWordEN.value;\n  const textUA = refs.fieldWordUA.value;\n\n  if (textEN) {\n    const translation = await fetchTranslation(textEN);\n    refs.fieldWordUA.value = translation.toLowerCase();\n    return;\n  }\n\n  if (textUA) {\n    const translation = await fetchTranslation(textUA, 'uk|en');\n    refs.fieldWordEN.value = translation.toLowerCase();\n    return;\n  }\n}\n\nfunction onSafeBtnClick() {\n  savedWords.push({\n    id: nanoid(),\n    en: refs.fieldWordEN.value,\n    ua: refs.fieldWordUA.value,\n  });\n  refs.form.reset();\n  saveWordsLS(savedWords);\n  console.table(savedWords);\n}\n"],"names":["refs","API_KEY","BASE_URL","fetchTranslation","text","targetLanguage","options","axios","error","LS_KEY_SAVED_WORDS","saveToLS","key","value","serializedState","getFromLS","saveWordsLS","words","getWordsLS","savedWords","onTranslateBtnClick","onSafeBtnClick","onFormSubmit","event","target","textEN","textUA","translation","nanoid"],"mappings":"6vBAAO,MAAMA,EAAO,CAClB,YAAa,SAAS,cAAc,uBAAuB,EAC3D,YAAa,SAAS,cAAc,uBAAuB,EAC3D,KAAM,SAAS,cAAc,gBAAgB,EAC7C,aAAc,SAAS,cAAc,iCAAiC,EACtE,QAAS,SAAS,cAAc,4BAA4B,EAC5D,UAAW,SAAS,cAAc,6BAA6B,CACjE,ECLMC,EAAU,uBACVC,EAAW,0CAIV,eAAeC,EAAiBC,EAAMC,EAAiB,QAAS,CACrE,MAAMC,EAAU,CACd,OAAQ,CAAE,EAAGF,EAAM,SAAUC,EAAgB,IAAKJ,CAAS,CAC/D,EAEE,GAAI,CAGF,OAFiB,MAAMM,EAAM,IAAIL,EAAUI,CAAO,GAElC,KAAK,aAAa,cACnC,OAAQE,EAAO,CACd,eAAQ,MAAM,wBAAyBA,CAAK,EACrC,IACR,CACH,CCpBA,MAAMC,EAAqB,aAErBC,EAAW,CAACC,EAAKC,IAAU,CAC/B,GAAI,CACF,MAAMC,EAAkB,KAAK,UAAUD,CAAK,EAC5C,aAAa,QAAQD,EAAKE,CAAe,CAC1C,OAAQL,EAAO,CACd,QAAQ,MAAM,oBAAqBA,CAAK,CACzC,CACH,EAEMM,EAAYH,GAAO,CACvB,GAAI,CACF,MAAME,EAAkB,aAAa,QAAQF,CAAG,EAChD,OAAOE,IAAoB,KAAO,OAAY,KAAK,MAAMA,CAAe,CACzE,OAAQL,EAAO,CACd,QAAQ,MAAM,oBAAqBA,CAAK,EACxC,MACD,CACH,EAEaO,EAAcC,GAASN,EAASD,EAAoBO,CAAK,EACzDC,EAAa,IAAMH,EAAUL,CAAkB,EChBtDS,EAAaD,EAAY,GAAI,GACnC,QAAQ,IAAI,mBAAoBC,CAAU,EAE1ClB,EAAK,aAAa,iBAAiB,QAASmB,CAAmB,EAC/DnB,EAAK,QAAQ,iBAAiB,QAASoB,CAAc,EACrDpB,EAAK,UAAU,iBAAiB,QAAS,IAAMA,EAAK,KAAK,MAAK,CAAE,EAChEA,EAAK,KAAK,iBAAiB,SAAUqB,CAAY,EAEjD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAASD,EAAM,OACrB,QAAQ,IAAI,8BAA+BC,CAAM,CACnD,CAEA,eAAeJ,GAAsB,CACnC,MAAMK,EAASxB,EAAK,YAAY,MAC1ByB,EAASzB,EAAK,YAAY,MAEhC,GAAIwB,EAAQ,CACV,MAAME,EAAc,MAAMvB,EAAiBqB,CAAM,EACjDxB,EAAK,YAAY,MAAQ0B,EAAY,YAAW,EAChD,MACD,CAED,GAAID,EAAQ,CACV,MAAMC,EAAc,MAAMvB,EAAiBsB,EAAQ,OAAO,EAC1DzB,EAAK,YAAY,MAAQ0B,EAAY,YAAW,EAChD,MACD,CACH,CAEA,SAASN,GAAiB,CACxBF,EAAW,KAAK,CACd,GAAIS,EAAQ,EACZ,GAAI3B,EAAK,YAAY,MACrB,GAAIA,EAAK,YAAY,KACzB,CAAG,EACDA,EAAK,KAAK,QACVe,EAAYG,CAAU,EACtB,QAAQ,MAAMA,CAAU,CAC1B"}